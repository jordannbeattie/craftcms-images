{# Img Tag Macro #}
	{% macro tag( src, alt, class, style, attributes, lazy, width, height ) %}
		<img src="{{ src }}"
			alt="{% if alt is defined and alt is not empty %}{{ alt }}{% else %}{% endif %}"
			{% if class is defined and class is not empty %}class="{{ class }}"{% endif %}
			{% if style is defined and style is not empty %}style="{{ style }}"{% endif %}
			{% if attributes is defined and attributes is not empty %}{% for attr, val in attributes %}{{ attr }}="{{ val }}" {% endfor %}{% endif %}
			{% if lazy is not defined or (lazy is defined and lazy == true) %}loading="lazy"{% endif %}
            {% if width is defined and width is not empty and width is not null %}width="{{ width }}"{% endif %}
            {% if height is defined and height is not empty and height is not null %}height="{{ height }}"{% endif %}
		/> 
	{% endmacro %}
{# End Img Tag Macro #}

{# Error Reporting Macro #}
	{% macro reportError(text) %}
		<script>console.log('[images/img]:: {{ text }}')</script>
	{% endmacro %}
{# End Error Reporting Macro #}

{# Source Tag Macro #}
    {% macro src( image, transform, size, format = null, type = null ) %}
        
        {% set media = size == "sm" 
            ? "(max-width: 599px)"
            : "(min-width: 600px)" 
        %}

        {% set url = format is null 
            ? image.url( transform )
            : image.getUrl({
                transform : transform, 
                format    : format
            })
        %}
        
        <source media="{{ media }}" srcset="{{ url }}" {% if type is not null %}type="{{ type }}"{% endif %}>

    {% endmacro %}
{# End Source Tag Macro #}
